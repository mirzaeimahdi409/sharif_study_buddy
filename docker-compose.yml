services:
  app:
    build:
      context: .
      no_cache: true
    volumes:
      - .:/app
    ports:
      - "8014:8014"
    env_file:
      - .env
  worker:
    build:
      context: .
      no_cache: true
    env_file:
      - .env
    # Override the ENTRYPOINT from Dockerfile so this container runs Celery
    # instead of the web entrypoint script.
    entrypoint: ["celery", "-A", "sharif_assistant", "worker", "-l", "info"]
